<div class="wrapper">
  <div class="text-center m-3">
    <img src="../../../assets/images/logo.png" alt="logo" class="img-fluid" />
  </div>
  <div class="form-signin w-50 m-auto border border-secondary rounded">
    <form action="" class="p-5" [formGroup]="form" id="login-form">
      <h2 class="bold mb-3">Register</h2>
      <div class="mb-3 form-group">
        <label for="firstname" class="form-label"
          >First name<span class="text-danger">*</span></label
        >
        <input type="text" class="form-control" formControlName="firstName" />
        <div
          class="text-danger"
          *ngIf="
            (this.form.get('firstName')!.touched &&
              this.form.get('firstName')!.invalid) ||
            (this.form.get('firstName')!.touched &&
              this.form.get('firstName')!.value === '')
          ">
          First name is required!
        </div>
      </div>
      <div class="mb-3 form-group">
        <label for="lastname" class="form-label"
          >Last name<span class="text-danger">*</span></label
        >
        <input type="text" class="form-control" formControlName="lastName" />
        <div
          class="text-danger"
          *ngIf="
            (this.form.get('lastName')!.touched &&
              this.form.get('lastName')!.invalid) ||
            (this.form.get('lastName')!.touched &&
              this.form.get('lastName')!.value === '')
          ">
          Last name is required!
        </div>
      </div>
      <div class="mb-3 form-group">
        <label for="username" class="form-label"
          >Username<span class="text-danger">*</span></label
        >
        <input type="text" class="form-control" formControlName="username" />
        <div
          class="text-danger"
          *ngIf="form.get('username')!.touched && !form.get('username')!.value">
          Username is required.
        </div>
        <div
          class="text-danger"
          *ngIf="
            form.get('username')!.touched &&
            form.get('username')!.value &&
            form.get('username')!.invalid &&
            form.get('username')!.value!.length < 3
          ">
          Username needs to be at least 3 letters long.
        </div>
        <div
          class="text-danger"
          *ngIf="
            form.get('username')!.touched &&
            form.get('username')!.value &&
            form.get('username')!.invalid
          ">
          Username must have only letters, numbers, underscore, and dot and
          cannot be longer than 20 characters.
        </div>
      </div>
      <div class="mb-3 d-flex position-relative flex-column">
        <div class="d-flex justify-content-between form-group">
          <label for="password" class="form-label"
            >Password<span class="text-danger">*</span></label
          >
        </div>
        <div class="align-items-stretch d-flex">
          <input
            [type]="fieldTextType ? 'text' : 'password'"
            class="form-control rounded-end-0"
            formControlName="password" />
          <div class="input-group-append top-0 bottom-0 end-0">
            <button
              class="btn btn-outline-secondary rounded-start-0 border border-start h-100"
              type="button"
              (click)="fieldTextType = !fieldTextType">
              <i
                class="fa"
                [ngClass]="fieldTextType ? 'fa-eye' : 'fa-eye-slash'"></i>
            </button>
          </div>
        </div>
        <div
          class="text-danger"
          *ngIf="
            this.form.controls.password.invalid &&
            this.form.controls.password.touched
          ">
          Password must contain at least one number,uppercase letter, lowercase
          letter, have at least 8 characters and cannot contain whitespace.
        </div>
      </div>
      <div class="mb-3 d-flex position-relative flex-column">
        <div class="d-flex justify-content-between form-group">
          <label for="confirmPassword" class="form-label"
            >Confirm password<span class="text-danger">*</span></label
          >
        </div>
        <div class="align-items-stretch d-flex">
          <input
            [type]="fieldTextType ? 'text' : 'password'"
            class="form-control rounded-end-0"
            formControlName="confirmPassword" />
          <div class="input-group-append top-0 bottom-0 end-0">
            <button
              class="btn btn-outline-secondary rounded-start-0 border border-start h-100"
              type="button"
              (click)="fieldTextType = !fieldTextType">
              <i
                class="fa"
                [ngClass]="fieldTextType ? 'fa-eye' : 'fa-eye-slash'"></i>
            </button>
          </div>
        </div>
        <div
          class="text-danger"
          *ngIf="
            this.form.get('confirmPassword')!.touched &&
            this.form.get('confirmPassword')!.invalid
          ">
          Password must contain at least one number,uppercase letter, lowercase
          letter, have at least 8 characters and cannot contain whitespace.
        </div>
        <div
          class="text-danger"
          *ngIf="
            this.form.get('confirmPassword')!.touched &&
            this.form.get('confirmPassword')!.valid &&
            this.form.get('confirmPassword')!.value !==
              this.form.get('password')!.value
          ">
          Password doesn't match!
        </div>
      </div>
      <div class="mb-3 form-group">
        <label for="email" class="form-label"
          >E-mail<span class="text-danger">*</span></label
        >
        <input type="text" class="form-control" formControlName="email" />
        <div
          class="text-danger"
          *ngIf="
            this.form.get('email')!.touched && !this.form.get('email')!.value
          ">
          Field is required!
        </div>
        <div
          class="text-danger"
          *ngIf="
            this.form.get('email')!.touched &&
            this.form.get('email')!.invalid &&
            this.form.get('email')!.value
          ">
          Invalid email
        </div>
      </div>
      <div class="d-flex justify-content-evenly">
        <div class="text-center my-5 mx-2 w-75">
          <button
            [disabled]="form.invalid"
            form="login-form"
            type="submit"
            class="btn btn-outline-secondary w-100">
            Login
          </button>
        </div>
        <div class="text-center my-5 mx-2 w-75">
          <button
            routerLink="{{ routes.routes.login }}"
            form="login-form"
            type="button"
            class="btn btn-outline-secondary w-100">
            Back
          </button>
        </div>
      </div>
    </form>
  </div>
  <footer class="mt-5 text-center">
    {{ config.copyright }}
  </footer>
</div>
